/*
	Copyright (c) 2024 Osaki Shinji
	Released under the MIT license
	https://opensource.org/licenses/mit-license.php
*/
/* 1:1 */
@charset "utf-8";

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
	font-family: 'Hiragino Maru Gothic ProN W4';
}

@page {
	size: 148mm 210mm;
	margin: 18mm 15mm 18mm 16mm;

	@bottom-center {
		content: counter(page);
		block-size: 13Q;
		margin-block-start: 4mm;
		/* background-color: gray; */
	}
}

@page :first {
	/* background-color: gold; */
	/* ページ全体に背景色 */
	/* margin: 0; */
	/* ページ余白無し */
	counter-reset: page -1;

	/* 表紙をページ 0 にする */
	@top-center {
		content: none;
		/* ページヘッダー無し */
	}

	@bottom-center {
		content: none;
		/* ページフッター無し */
	}
}

@page :right {
	margin: 18mm 16mm 18mm 15mm;
}

header {
	break-after: page;
}

:root {
	font-size: 13Q;
	line-height: 21Q;
	text-spacing: auto;
	/* --width: 57mm; */
	--width: 2.25in;
	/* --height: 40mm; */
	--height: var(--width);
	--container-height: calc(210mm - 18mm - 18mm);
	--container-width: calc(148mm - 16mm - 15mm);
}

/* 見出し類 */
h1,
h2,
h3,
h4,
h5,
h6 {
	font-feature-settings: "palt";
	text-spacing: none;
}

/* body {
	background-color: lightgray;
} */

header .container {
	display: grid;
	grid-template-columns: auto;
	grid-template-rows: auto auto auto auto;
	justify-items: center;
	align-content: space-between;
	height: var(--container-height);
}
header .top {
	/* display: flex; */
	width: 80%;
	color: red;
	/* height: 10%; */
	/* justify-content: center; */
	background-color: #04f6d3;
}
h1 {
	--font-size: 48Q;
	font-size: var(--font-size);
	/* margin-top: var(--font-size); */
	/* line-height: calc(var(--font-size) * 2); */
	line-height: var(--font-size);
	justify-self: start;
	/* text-align: center; */
	/* display: inline-block; */
	/* padding: calc(var(--font-size) / 2) calc(var(--font-size) / 2); */
	/* line-height: calc(var(--font-size) * 2); */
	/* text-align: center; */
	/* border-radius: var(--font-size); */
	/* color: darkorange; */
	/* background-color: #04f6d3; */
	/* counter-reset: section-counter 0; */
	/* border: 1px solid black; */
}
header img {
	width: 100%;
}
header .author {
	font-size: 24Q;
	justify-self: end;
}

h2 {
	display: inline-block;
	block-size: calc(var(--width) / 3 *2);
	line-height: calc(var(--width) / 3 *2);
	/* inline-size: var(--width); */
	/* padding-top: 5rem; */
	/* line-height: 4rem; */
	font-size: 2rem;
	background-color: #04f6d3;
	color: white;
	border-radius: 1rem;
	text-align: center;
	/* vertical-align: middle; */
	/* border: 1px solid black; */
}



/* header .container div:nth-child(1) {
	block-size: 3rem;
	font-size: 2rem;
	padding: 0.5rem;
	writing-mode: vertical-rl;
	background-color: lightgray;
} */

/* header .container div:nth-child(3) {
	block-size: 3rem;
	writing-mode: vertical-rl;
	transform: rotate(180deg);
	background-color: lightgray;
} */

/* header .container div:nth-child(4) {
	justify-self: start;
	inline-size: calc(var(--container-width) / 3 * 2);
	background-color: lightblue;
} */

/* header .container div:nth-child(5) {
	grid-column: 2 / 4;
	justify-self: end;
	inline-size: calc(var(--container-width) / 3 * 1.3);
	block-size: calc(var(--container-width) / 3 * 1.3);
	border-radius: 50%;
	border: 1px solid black;
	background-color: lightpink;
} */

nav {
	break-after: page;
}

/* 目次タイトルなど */
/* #toc-title::before {
	content: none;
} */

#toc {
	text-spacing: no-autospace;
}

#toc ul {
	list-style: none;
	margin-inline-start: 0;
	padding-inline-start: 0;
	counter-reset: toc-list-counter 0;
}

/* 目次参照 */
#toc a {
	color: #000;
	text-decoration: none;
}

#toc a::after {
	content: target-counter(attr(href url), page);
	margin-inline-start: 1em;
	text-align: end;
}
#toc .toc-title {
	font-size: 24Q;
	line-height: 1.25em;
	font-weight: 700;
	margin-block-end: 1em;
}
/* 章目次（Grid） */
#toc .toc-chapter {
	font-size: 24Q;
	line-height: 1.25em;
	font-weight: 700;
	margin-block-end: 2mm;
	display: grid;
	grid-template-columns: auto 3em;
}

/* #toc .toc-chapter::before {
	content: "Chapter " counters(toc-list-counter, "-");
	counter-increment: toc-list-counter;
	grid-column: 1/3;
	font-size: 15Q;
	line-height: 1.5em;
	border-block-end: solid 0.5mm #000;
} */

#toc .toc-chapter::after {
	font-size: 18Q;
}

#toc li:has(> .toc-chapter) {
	/* margin-block-end: 8mm; */
	margin-block-end: 2mm;
}

/* 節目次（before＋リーダー） */
#toc li:has(> .toc-section) {
	font-size: 18Q;
	line-height: 1.2em;
	font-weight: 700;
	margin-inline-start: 15mm;
	margin-block-end: 2mm;
	break-inside: avoid;
	position: relative;
}

#toc .toc-section::before {
	/* content: counters(toc-list-counter, "-"); */
	/* counter-increment: toc-list-counter; */
	position: absolute;
	inset-inline-start: -15mm;
	display: block;
	inline-size: 13mm;
	text-align: end;
}

#toc .toc-section::after {
	/* content: target-counter(attr(href url), page); */
	content: leader(dotted) target-counter(attr(href url), page);
	margin-inline-start: 0.5em;
}

#toc li:has(> .toc-section)>ul {
	margin-block-start: 1mm;
}

/* 項目次（ぶら下げ） */
/* #toc li:has(> .toc-subsection) {
	font-size: 13Q;
	line-height: 1.25em;
	font-weight: 400;
	margin-inline-start: 3em;
	text-indent: -3em;
	margin-inline-end: 1em;
	margin-block-end: 0.1em;
} */

/* #toc .toc-subsection::before {
	content: counters(toc-list-counter, "-");
	counter-increment: toc-list-counter;
	display: inline-block;
	min-inline-size: 2.5em;
	text-indent: 0;
	margin-inline-end: 0.5em;
	text-align: start;
} */

main .container {
	width: 100%;
	/* height: 174mm; */
	block-size: var(--container-height);
	display: grid;
	grid-template-columns: auto auto;
	grid-template-rows: auto auto auto auto;
	justify-content: space-between;
	align-content: space-between;
	/* background-color: lightblue; */
}

main .item {
	position: relative;
	block-size: var(--height);
	inline-size: var(--width);
	/* background-color: lightgray; */
}

main .item img {
	display: inline-block;
	inline-size: var(--width);
	border-radius: 1rem;
	/* box-shadow: 2px 2px 2px 1px rgb(0 0 0 / 20%); */
	/* border: 1px solid red; */
}

main .item .caption {
	text-align: center;
	/* margin-block-start: 6Q; */
	font-size: 1.2rem;
	/* background-color: red; */
}

main .item .number {
	display: inline-block;
	inline-size: var(--width);
	position: absolute;
	text-align: right;
	color: turquoise;
	text-stroke: 1px white;
	font-size: 2.2rem;
	top: calc((var(--width) / 3 * 2) - 2.2rem);
	/* margin-block-start: -2.2rem; */
	/* margin-block-start: -43Q; */
	/* background-color: blue; */
}

/* 奥付 */
footer .container {
	block-size: var(--container-height);
	font-size: 12Q;
	line-height: 1.25em;
	text-indent: 0;
	display: grid;
	grid-template-rows: 15mm auto 18mm;
	grid-template-areas: "header" "content" "footer";
}

/* 上部のスタッフリスト */
footer .staff-list {
	grid-area: header;
	/* border: solid 0.5mm #000; */
	padding: 1mm;
	list-style: none;
}

/* 下部の注意書き */
footer .caution {
	grid-area: footer;
	align-self: end;
	font-size: 11Q;
}

/* 書籍情報 */
footer .book-info {
	grid-area: content;
	align-self: end;
	display: grid;
	grid-template-columns: 4em auto;
	column-gap: 1em;
	row-gap: 1mm;
}

footer dt {
	text-align-last: justify;
	margin: 0;
}

footer dt.booktitle,
footer dt.publish-date {
	display: none;
}

footer dd {
	margin: 0;
}

footer dd.booktitle {
	grid-column: 1/3;
	font-size: 20Q;
	line-height: 1.5em;
	border-block-end: solid 0.5mm #000;
	padding-block-end: 2mm;
	margin-block-end: 2mm;
}

footer dd.publish-date {
	grid-column: 1/3;
	block-size: 2.5lh;
}

footer dd.publish-date .date {
	display: inline-block;
	/* inline-size: 4.5em; */
	inline-size: 10em;
	text-align: end;
	margin-inline-end: 2em;
}